<!--
//////////////////////////////////////////////////////////////////////////////////
//
// JSDraw.Lite
// Copyright (C) 2016 Scilligence Corporation
// http://www.scilligence.com/
//
// (Released under LGPL 3.0: https://opensource.org/licenses/LGPL-3.0)
//
//////////////////////////////////////////////////////////////////////////////////
-->
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>JSDraw.Lite - A Javascript Chemical Structure Editor/Viewer</title>

    <script type='text/javascript't src="//ajax.googleapis.com/ajax/libs/dojo/1.11.2/dojo/dojo.js"></script>
    <script type='text/javascript't src="Scilligence.JSDraw2.Lite.js"></script>
    <script type='text/javascript' src='Scilligence.JSDraw2.Resources.js'></script>

</head>
<body style="font-family:Arial; margin: 0">

    <div id='Div1' ></div>
    MW:<input id='mw' />  
    MF:<input id='mf' /><br />

    <button onclick='getMolWeight()'>getMolWeight</button>
    <button onclick='getMolfile()'>getMolfile</button>
    <button onclick='setMolfile()'>setMolfile</button>
    <button onclick='getRxnfile()'>getRxnfile</button>
    <button onclick='setRxnfile()'>setRxnfile</button>
    <br /><textarea id='v' cols=80 rows=10></textarea>

    <script type="text/javascript">

        var jsd = null;
        JSDraw2.defaultoptions = { xdraw: "jdraw", popupwidth: '70%', popupheight: '70%', popupxdraw: false, jdrawpath: null, monocolor: false };
        scil.ready(function () {
            jsd = new JSDraw("Div1", { skin: "w8", fullscreen: true, inktools: false, width: 900, height: 450, ondatachange: ondatachange });
        });

        function ondatachange(jsd) {
            scil.byId("mw").value = jsd.getMolWeight();
            scil.byId("mf").value = jsd.getFormula();
        }

        function getMolWeight() {
            var m = JSDraw.get("Div1").m.clone();
            dojo.byId('v').value = JSDraw.get("Div1").getMolWeight();
        }

        function getMolfile() {
            dojo.byId('v').value = JSDraw.get("Div1").getMolfile();
        }

        function setMolfile() {
            JSDraw.get("Div1").setMolfile(dojo.byId('v').value);
        }


        function getRxnfile() {
            dojo.byId('v').value = JSDraw.get("Div1").getRxnfile(true);
        }

        function setRxnfile() {
            JSDraw.get("Div1").setRxnfile(dojo.byId('v').value);
        }
    </script>

</body>
</html>
